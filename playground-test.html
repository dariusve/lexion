<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lexion Playground Examples Test</title>
    <style>
      :root {
        font-family: "IBM Plex Sans", "Segoe UI", sans-serif;
        color: #0f172a;
        background: linear-gradient(135deg, #f8fafc 0%, #eef2ff 100%);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
      }

      .page {
        max-width: 1200px;
        margin: 0 auto;
        padding: 1.5rem 1rem 2.5rem;
      }

      .intro {
        margin-bottom: 1rem;
      }

      .grid {
        display: grid;
        gap: 1rem;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      }

      .card {
        border: 1px solid #cbd5e1;
        border-radius: 0.75rem;
        background: #ffffff;
        padding: 1rem;
        min-height: 280px;
      }

      .card h2 {
        margin-top: 0;
      }

      .lexion-toolbar {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-bottom: 0.75rem;
      }

      .lexion-toolbar-button {
        border: 1px solid #94a3b8;
        background: #f8fafc;
        color: #0f172a;
        border-radius: 0.45rem;
        padding: 0.3rem 0.55rem;
        cursor: pointer;
      }

      .ProseMirror {
        min-height: 150px;
        border: 1px solid #cbd5e1;
        border-radius: 0.5rem;
        background: #ffffff;
        padding: 0.75rem;
      }

      pre {
        max-height: 180px;
        overflow: auto;
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        border-radius: 0.5rem;
        padding: 0.65rem;
        margin-top: 0.75rem;
        font-size: 12px;
      }

      .status {
        margin-top: 1rem;
        font-size: 0.95rem;
      }

      .status.ok {
        color: #166534;
      }

      .status.err {
        color: #991b1b;
      }
    </style>
    <script type="importmap">
      {
        "imports": {
          "@lexion/core": "./packages/core/dist/index.js",
          "@lexion/extensions": "./playground-test.extensions-shim.js",
          "@lexion/vue": "./packages/vue/dist/index.js",
          "@lexion/web": "./packages/web/dist/index.js",
          "vue": "./node_modules/vue/dist/vue.runtime.esm-browser.js",
          "prosemirror-model": "./node_modules/.pnpm/prosemirror-model@1.25.4/node_modules/prosemirror-model/dist/index.js",
          "prosemirror-state": "./node_modules/.pnpm/prosemirror-state@1.4.4/node_modules/prosemirror-state/dist/index.js",
          "prosemirror-view": "./node_modules/.pnpm/prosemirror-view@1.41.6/node_modules/prosemirror-view/dist/index.js",
          "prosemirror-commands": "./node_modules/.pnpm/prosemirror-commands@1.7.1/node_modules/prosemirror-commands/dist/index.js",
          "prosemirror-history": "./node_modules/.pnpm/prosemirror-history@1.5.0/node_modules/prosemirror-history/dist/index.js",
          "prosemirror-keymap": "./node_modules/.pnpm/prosemirror-keymap@1.2.3/node_modules/prosemirror-keymap/dist/index.js",
          "prosemirror-schema-basic": "./node_modules/.pnpm/prosemirror-schema-basic@1.2.4/node_modules/prosemirror-schema-basic/dist/index.js",
          "prosemirror-schema-list": "./node_modules/.pnpm/prosemirror-schema-list@1.5.1/node_modules/prosemirror-schema-list/dist/index.js",
          "prosemirror-transform": "./node_modules/.pnpm/prosemirror-transform@1.11.0/node_modules/prosemirror-transform/dist/index.js",
          "orderedmap": "./node_modules/.pnpm/orderedmap@2.1.1/node_modules/orderedmap/dist/index.js",
          "rope-sequence": "./node_modules/.pnpm/rope-sequence@1.3.4/node_modules/rope-sequence/dist/index.js",
          "w3c-keyname": "./node_modules/.pnpm/w3c-keyname@2.2.8/node_modules/w3c-keyname/index.js"
        }
      }
    </script>
  </head>
  <body>
    <main class="page">
      <section class="intro">
        <h1>Lexion Playground Examples</h1>
        <p>
          This page mounts the three playground examples: Vue uncontrolled, Vue controlled, and Web toolbar adapter.
        </p>
      </section>

      <section class="grid">
        <article class="card">
          <h2>Vue Uncontrolled</h2>
          <div id="vue-uncontrolled"></div>
        </article>

        <article class="card">
          <h2>Vue Controlled</h2>
          <div id="vue-controlled"></div>
        </article>

        <article class="card">
          <h2>Web Toolbar Adapter</h2>
          <div id="web-toolbar"></div>
        </article>
      </section>

      <div id="status" class="status">Initializing...</div>
    </main>

    <script type="module">
      import {
        mountVueUncontrolledExample,
        mountVueControlledExample,
        mountWebToolbarExample
      } from "./apps/playground/dist/index.js";

      const status = document.getElementById("status");

      try {
        mountVueUncontrolledExample(document.getElementById("vue-uncontrolled"));
        mountVueControlledExample(document.getElementById("vue-controlled"));
        mountWebToolbarExample(document.getElementById("web-toolbar"));
        status.textContent = "Examples mounted successfully.";
        status.className = "status ok";
      } catch (error) {
        status.textContent = `Failed to mount examples: ${error instanceof Error ? error.message : String(error)}`;
        status.className = "status err";
      }
    </script>
  </body>
</html>
